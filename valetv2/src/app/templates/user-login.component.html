<div class="container">
    <h1>
        Please login to view your e-ticket
    </h1>
    <form #loginForm="ngForm" class="form-container">
        <div class="form-item">
            <label for="ticket_no">
                Ticket No.
            </label>
            <input type="text"
                name="ticket_no"
                [(ngModel)]="userModel.ticket_no"
                #ticketNo
                disabled
            >
        </div>
        <div class="form-item">
            <label for="phone">
                Phone No.
            </label>
            <input type="tel"
                name="phone"
                placeholder="Pattern like: +92-123-4567890"
                [(ngModel)]="userModel.phone"
                #phone="ngModel"
                required
                pattern="[+]?\d{1,3}-\d{1,3}-\d{7,8}"
                (focus)="onFocus('phone')"
                (blur)="onBlur('phone')"
                [ngClass]="{
                    'input-invalid': phone.invalid &&
                                    (phone.touched || loginPressed),
                    'input-valid': phone.valid && phone.touched && !focus.phone
                }"
            >
            <!-- form validation -->
            <div class="error-container"
                *ngIf="phone.invalid && (phone.touched || phone.dirty)">
                <div class="error" *ngIf="phone.errors.required">
                    <span>
                        <i class="fas fa-exclamation-triangle"></i>
                    </span>
                    Phone Number is required.
                </div>
                <div class="error" *ngIf="phone.errors.pattern">
                    <span>
                        <i class="fas fa-exclamation-triangle"></i>
                    </span>
                    The pattern does not match. Enter format like: +(2 digit country code)-(3 digit dialing code)-(7 digit phone no)
                </div>
            </div>
        </div>
        <div class="form-item">
            <label for="reg_no">
                Car Registration No.
            </label>
            <input type="text"
                name="reg_no"
                placeholder="Enter your car's registration number"
                [(ngModel)]="userModel.reg_no"
                #regNo="ngModel"
                required
                (focus)="onFocus('regNo')"
                (blur)="onBlur('regNo')"
                [ngClass]="{
                    'input-invalid': regNo.invalid &&
                                    (regNo.touched || loginPressed),
                    'input-valid': regNo.valid && regNo.touched && !focus.regNo
                }"
            >
            <!-- form validation -->
            <div class="error-container"
                *ngIf="regNo.invalid && (regNo.touched || regNo.dirty)">
                <div class="error" *ngIf="regNo.errors.required">
                    <span>
                        <i class="fas fa-exclamation-triangle"></i>
                    </span>
                    Car license plate no. is required.
                </div>
            </div>
        </div>
        <button class="form-btn btn-blue"
            (click)="login(loginForm.form)">
            Login and view ticket
        </button>
    </form>
</div>
